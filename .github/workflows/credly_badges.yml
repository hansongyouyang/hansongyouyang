name: Update badges from credly

on:
  workflow_dispatch:
  schedule:
    - cron: "0 16 * * *"  # Midnight, Singapore time UTC+8
  pull_request:

jobs:
  update-readme:
    name: Update Readme with badges from credly
    runs-on: ubuntu-latest
    steps:
      - name: Update Readme with badges from credly
        uses: pemtajo/badge-readme@2.4.0
        with:
          GH_TOKEN: ${{ CREDLY_BADGES_GH_TOKEN }}
          COMMIT_MESSAGE: "Update badges from credly"
          CREDLY_USER: thehansong
          CREDLY_SORT: POPULAR
